{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/checkout-item/checkout-item.js","Components/spinner-text/spinnerText.styles.js","Components/spinner-text/spinnerText.component.jsx","Pages/Checkout/checkout.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","connect","dispatch","clearItem","item","clearItemFromCart","addItem","removeItem","cartItem","name","imageUrl","price","quantity","className","src","alt","onClick","SpinnerOverlay","styled","div","SpinnerContainer","SpinnerText","mapStateToProps","createStructuredSelector","cartItems","selectCartItems","total","selectCartTotal","useState","loading","setLoading","data","useMemo","description","map","currency","amount","tax_base","tax","country","lang","external","useEffect","script","document","createElement","id","keys","forEach","prop","setAttribute","async","body","appendChild","getElementsByClassName","removeChild","inverted","e","preventDefault","window","ePayco","checkout","configure","key","test","open"],"mappings":"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","file":"static/js/7.3dc83b75.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react'\nimport './checkout-item.styles.scss'\nimport {connect} from 'react-redux';\n\nimport {clearItemFromCart, addItem, removeItem} from '../../redux/cart/cart.actions'\n\nconst CheckoutItem = ({cartItem,clearItem,addItem, removeItem}) => {\n  const {name, imageUrl,price,quantity} = cartItem;\n  return (\n  <div className='checkout-item'>\n    <div className = 'image-container'>\n      <img src={imageUrl} alt='item'/>\n    </div>\n    <span className='name'>{name}</span>\n    <span className='quantity'>\n      <div className='arrow' onClick={()=>removeItem(cartItem)}>&#10094;</div>\n      <span className='value'>{quantity}</span>\n      <div className='arrow' onClick={()=>addItem(cartItem)}>&#10095;</div>\n    </span>\n    <span className='price'>{price}</span>\n    <div className='remove-button' onClick={()=>clearItem(cartItem)}>&#10005;</div>\n  </div>\n)};\n\n\nconst mapDispatchToProps = dispatch => ({\n  clearItem: item => dispatch(clearItemFromCart(item)),\n  addItem: item => dispatch(addItem(item)),\n  removeItem: item => dispatch(removeItem(item))\n})\n\nexport default connect(null,mapDispatchToProps)(CheckoutItem);\n","import styled from 'styled-components'\n\nexport const SpinnerOverlay = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const SpinnerContainer = styled.div`\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n`;\n","import React from 'react';\nimport{SpinnerContainer, SpinnerOverlay} from './spinnerText.styles';\n\nconst SpinnerText = () =>{\n    return(\n        <SpinnerOverlay>\n            <SpinnerContainer/>\n        </SpinnerOverlay>\n    )\n}\n\nexport default SpinnerText;","import React, {useState, useEffect, useMemo}from 'react';\nimport './checkout.styles.scss';\nimport {connect} from 'react-redux';\nimport {createStructuredSelector } from 'reselect';\nimport CheckoutItem from '../../Components/checkout-item/checkout-item'\nimport {selectCartItems,selectCartTotal} from '../../redux/cart/cart.selectors';\nimport CustomButton from '../../Components/custom-button/custom-button';\nimport SpinnerText from '../../Components/spinner-text/spinnerText.component';\n\n\nconst CheckoutPage = ({cartItems,total}) => {\n \n  const [loading, setLoading] = useState(false)\n\n  const handlePayClick = (e) => {\n    e.preventDefault()\n    if (loading===true) {\n      \n    } else {\n      // console.log(window)\n    setLoading(true)\n    var handler = window.ePayco.checkout.configure({\n      key: '45b960805ced5c27ce34b1600b4b9f54',\n      test: true\n    })\n    handler.open(data)\n    \n    }\n  }\n\n\n  var data = useMemo(() => ({\n    //Parametros compra (obligatorio)\n    name: \"Ropa Tienda Diego\",\n    description: cartItems.map(cartItem => cartItem.name +\" (\" +cartItem.quantity + \") \"),\n    currency: \"usd\",\n    amount: total,\n    tax_base: \"0\",\n    tax: \"0\",\n    country: \"co\",\n    lang: \"en\",\n    \n\n    //Onpage=\"false\" - Standard=\"true\"\n    external: \"true\",\n  }),[cartItems,total])\n\n  useEffect(()=>{\n    const url = \"https://checkout.epayco.co/checkout.js\";\n    const script = document.createElement('script');\n    script.id = 'epayco'\n    Object.keys(data).forEach(prop => script.setAttribute(prop, data[prop]));\n    script.src = url;\n    script.async = false;\n    document.body.appendChild(script)\n    document.getElementsByClassName('total')[0].appendChild(script)\n    \n    return () => {\n        document.getElementsByClassName('total')[0].removeChild(script);\n      };     \n},[data])\n\n  \n    \n  return(\n  <div className='checkout-page'>\n    <div className='checkout-header'>\n      <div className='header-block'>\n        <span>Product</span>\n      </div>\n      <div className='header-block'>\n        <span>Description</span>\n      </div>\n      <div className='header-block'>\n        <span>Quantity</span>\n      </div>\n      <div className='header-block'>\n        <span>Price</span>\n      </div>\n      <div className='header-block'>\n        <span>Remove</span>\n      </div>\n    </div>\n    {\n      cartItems.map(cartItem =>\n      <CheckoutItem key={cartItem.id} cartItem={cartItem} />\n    )\n    }\n    <div className='total'  >\n      <span> TOTAL: ${total} </span>\n      {/* <StripeCheckoutButton price={total}/> */}\n      <CustomButton inverted={true} onClick={handlePayClick}>\n       {loading? <SpinnerText/> : 'epay Pay'}\n      </CustomButton>\n      \n    \n    </div>\n\n  </div>\n)} ;\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems:selectCartItems,\n  total: selectCartTotal\n})\nexport default connect(mapStateToProps)( CheckoutPage)\n"],"sourceRoot":""}